## Переменные

### Объявление

Ранее вы уже использовали значения различных типов данных Rust. Это и числа (целые 
и дробные), логические, текстовые и символьные. Мы использовали определенные к коде
значения, отправляя их, как входные параметры в макрос `print` или `println`. 
Каждое значение мы могли использовать только в конкретном месте и не имели возможности
ссылаться каким-либо образом не него. 

Для реализации этой цели вводится такое понятие, как `переменная`. Переменной называют
пару - объект и его значение. Переменная может быть инициализированной и неинициализированной.
В коде программы для объявления переменной существует специальное слово (ключевое слово) - `let`.

```rust
fn main() {
    let number = 2;
    let other_number = 3;
    println!("{}", number + other_number);

    let float_number = 2.;
    let other_float_number = 3.;
    println!("{}", float_number + other_float_number);

    let character = '=';
    let other_character = '!';
    println!("{}{}", character, other_character);

    let boolean_true = true;
    let boolean_false = false;
    println!(
        "{} != {}. {}",
        boolean_true,
        boolean_false,
        boolean_true != boolean_false
    );
}

```
[Rust Playground](https://play.rust-lang.org/?gist=5c4b6775689f23aefefccc20aae27539&version=stable&mode=debug&edition=2015)

Обратите внимание, какие происходит сохранение ссылки на конкретное значение:
- выделяется достаточно памяти для хранение значения,
- в эту память сохраняется конкретное значение,
- эта ячейка памяти именуется и может быть использована в коде программы.

Рассмотрим пример использования переменной в макросе `println`:

```rust
fn main() {
    let number = 2;
    let other_number = 3;
    println!("{}", number + 3);
    println!("{}, {}", other_number, 3);
}

```
[Rust Playground](https://play.rust-lang.org/?gist=aa06d607e573b47d4b72aca80c241fbb&version=stable&mode=debug&edition=2015)

### Изменяемая переменная

Продолжим изучать переменные. Для того чтобы иметь возможность вносить изменение в содержание переменной, при её объявлении необходимо сообщить о этом компилятору. С помощью ключевого `mut` при объявлении переменной мы указывает, что эта переменная 
в коде программы может хранить различные значения. Тип хранимой переменной определяется или явным образом или неявно, при помощи 
типа данных при её инициализации.

```rust
fn main() {
    let mut number = 2;
    print!("{}", number);
    number = 3;
    print!(" {}", number);
    //number = true;
    //number = 'a';
    //number = "'a'";
}

```
[Rust Playground](https://play.rust-lang.org/?gist=b835811a58e21c1c2e67d75f1ec7c832&version=stable&mode=debug&edition=2015)

### Сокращенная запись арифметических операций

При увеличении значения переменной на какое-то значение в Rust можно использовать сокращенную запись. Две следующие записи эквивалеентны:

```rust
fn main() {
    let mut variable_1 = 1;
    let mut variable_2 = 1;
    variable_1 = variable_1 + 1;
    variable_2 += 1;
    println!("variable_1 = {}", variable_1);
    println!("variable_2 = {}", variable_2);
}
```
[Rust Playground](https://play.rust-lang.org/?gist=c7d217080163f9b4cdc3e21f15c2548c&version=stable&mode=debug&edition=2015)

### Скрытие переменной

В Rust есть возможность использовать одно имя для различных преременных внутри одной области видимости. Благодаря этой возможности можно временно прекратить использовать переменную одного типа данных и пользоваться другой или использовать разные значения.
```rust
fn main() {
    let mut n = 1;
    print!("{}", n);
    n = 2;
    print!(" {}", n);
    {
        let n = 3.14;
        print!(" {}", n);
    }
    print!(" {}", n);
}
```
[Rust Playground](https://play.rust-lang.org/?gist=9e295dba3ac6e0c3ace2f731e62465ba&version=stable&mode=debug&edition=2015)

Обратите внимание на вложенный скобки - это блок, в котором есть своя зона видимости и все переменные, которые в ней определены прекращают своё действие после выхода программы из этого блока.


### Домашнее задание

Изучите реакцию компилятора, раскомментировав код. Замените числовые значения символьными, логическими, текстовыми. Посмотрите 
на результат.

### Наш помощник - компилятор

Изучим поведение и рекомендации компилятора при попытках сломать рабочий код. Если мы укажем ключевое слово `mut` но в коде программы не будем изменять содержание переменной - при компиляции будет предупреждение.
```rust
fn main() {
    let mut number = 2;
    print!("{}", number);
}

```
[Rust Playground](https://play.rust-lang.org/?gist=4787737201efabe844bb64f7896512e4&version=stable&mode=debug&edition=2015)

Если мы вообще не укажем значение при объявлении переменной, но попытаемся использовать её - будет ошибка компиляции.
```rust
fn main() {
    let mut number;
    print!("{}", number);
}

```
[Rust Playground](https://play.rust-lang.org/?gist=a3a5f6c6953965b4cdd13b6b3bbc69f2&version=stable&mode=debug&edition=2015)

Если мы вообще не используем переменную - компилятор также это выявит и предложит вообще отказаться от её инициализации либо
сообщить в коде программы, что данную переменную можно игнорировать. Для этого перед именем переменной нужно указать специальный 
символ `_`. 
```rust
fn main() {
    let _number= 2;
    //print!("{}", number);
}

```
[Rust Playground](https://play.rust-lang.org/?gist=a1b11b3aacf7aec4276140b7bce3d728&version=stable&mode=debug&edition=2015)


Кроме того, данный символ является зарезервированным это значит, что его применение ограничено синтаксисом языка.

### Стандартная библиотека Rust - тоже хороший помощник

Язык Rust весьма минималистичен. Дополнительные возможности его использования, примеры хорошего стиля программировния расскрываются в стандартной библиотеке, которая присутствует по умолчанию при установке. Рассмотрим одну важну функцию, которая пригодится каждому исследователю языковых возможностей - это определение длинны (своеобразный "лабораторный инструмент")  - функция определения длинны.

Вот вариант её использования:

```rust
fn main() {
    println!("{} {}", str::len("abcde"), "abcde".len());
    //println!("{} {}", str::len('a'), 'a'.len());
    //println!("{} {}", str::len(1.), 1..len());
    //println!("{} {}", str::len(1.), 1..len());
    //println!("{} {}", str::len(true), false.len());
}
```
[Rust Playground](https://play.rust-lang.org/?gist=21be91d81f20db1ae0208440576224af&version=stable&mode=debug&edition=2015)
Раскомментировав строчки кода, из сообщений компилятора вы узнаете об ограничениях работы функций. Обратите также внимание на синтаксис вызова функий разных видов.

### Домашнее задание

Попрактикуйтесь в использование объявления переменных. Используйте различные типы данных. Ломайте код, делайте ошибки, читайте сообщения компилятора.
